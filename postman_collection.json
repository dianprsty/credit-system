{
	"info": {
		"_postman_id": "adc122dd-4d7c-4b16-8b25-dc9467fc6338",
		"name": "Loan API",
		"description": "# Loan API - Final Project Bootcamp Pinus Pintar Batch 3.4",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "11976036",
		"_collection_link": "https://universal-equinox-591891.postman.co/workspace/Team-Workspace~fe1f7fdb-087a-41cc-8390-d12f1f786bb1/collection/11976036-adc122dd-4d7c-4b16-8b25-dc9467fc6338?action=share&source=collection_link&creator=11976036"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "201 Created - Add User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"response must be valid and have a body\", function () {\r",
									"     pm.response.to.be.success;\r",
									"     pm.response.to.be.withBody;\r",
									"     pm.response.to.be.json;\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"prstydian\",\r\n    \"name\": \"Prasetyo\",\r\n    \"role\": \"manager\",\r\n    \"password\":\"123456\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/auth/users/create",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"auth",
								"users",
								"create"
							]
						}
					},
					"response": [
						{
							"name": "201 Created - Add User",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"username\":\"prstydian\",\r\n    \"name\": \"Prasetyo\",\r\n    \"role\": \"manager\",\r\n    \"password\":\"123456\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}:{{port}}/auth/users/create",
									"host": [
										"{{base_url}}"
									],
									"port": "{{port}}",
									"path": [
										"auth",
										"users",
										"create"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "226"
								},
								{
									"key": "ETag",
									"value": "W/\"e2-GOrV7kf6Ni7JeRFAlQCP/ywgb4M\""
								},
								{
									"key": "Date",
									"value": "Fri, 16 Feb 2024 09:44:41 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"created\",\n    \"status\": 201,\n    \"data\": {\n        \"username\": {\n            \"id\": \"01HPRMVJM29422V6C44HNFP87V\",\n            \"username\": \"prstydian\",\n            \"name\": \"Prasetyo\",\n            \"role\": \"MANAGER\",\n            \"createdAt\": \"2024-02-16T09:44:41.859Z\",\n            \"updatedAt\": \"2024-02-16T09:44:41.859Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get All Users",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/auth/users",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"auth",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User By Username",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/auth/users/admin",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"auth",
								"users",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"prasetyo\",\r\n    \"password\": \"123456\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsI0nR5cCI6IkpXVCJ9.eyJzdWIiOnsiaWQiOiIwMUhOWjAyRUgzRkdKQlQzM1JYNTVTRzIxRyIsInVzZXJuYW1lIjoiYWRtaW4ifSwiaWF0IjoxNzA3MjkwOTE3LCJleHAiOjE3MDcyOTY5MTd9.bgEPJcpxODOetRZVfQKBLdUMyYC3DOZ6Fr8lSdyUErU",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"auth",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Customers",
			"item": [
				{
					"name": "Create Customer",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Michael Jackson\",\r\n    \"nik\" : \"1234567890768002\",\r\n    \"birthDate\" : \"1975-04-17\",\r\n    \"maritalStatus\" : \"kawin\",\r\n    \"partnerName\" : \"Sri Rejeki\",\r\n    \"partnerNik\" :\"1234567890456001\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/customers",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Customers",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/customers",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Customer By Id",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/customers/01HPAZB20D9SNCEAA2ASAF9T32",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"customers",
								"01HPAZB20D9SNCEAA2ASAF9T32"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Customer",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\" : \"Michael D Jackson\",\r\n    \"partnerName\" : \"Sri Rejeki Melimpah\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/customers/01HPCBDQJ6CY9GYA6Q7BKJVEWN",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"customers",
								"01HPCBDQJ6CY9GYA6Q7BKJVEWN"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Customer",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/customers/01HPCBCX96EXN73N8XTVPBG435",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"customers",
								"01HPCBCX96EXN73N8XTVPBG435"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Vehicles",
			"item": [
				{
					"name": "Create Vehicle",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"dealer\" : \"Pasar Minggu\",\r\n    \"brand\" : \"Honda\",\r\n    \"model\" : \"Honda Beat\",\r\n    \"type\" : \"Beat Street\",\r\n    \"color\" : \"Putih\",\r\n    \"price\" : 18700000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/vehicles",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Vehicles",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/vehicles",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Vehicle By Id",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/vehicles/01HPCAXQJ5D1P9GE7MTPG84M5B",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"vehicles",
								"01HPCAXQJ5D1P9GE7MTPG84M5B"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Vehicle",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"color\": \"Hitam\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/vehicles/01HPCAXQJ5D1P9GE7MTPG84M5B",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"vehicles",
								"01HPCAXQJ5D1P9GE7MTPG84M5B"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Vehicle",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/vehicles/01HPCBBQQ33J5RWRSF3P450FES",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"vehicles",
								"01HPCBBQQ33J5RWRSF3P450FES"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Loan Status",
			"item": [
				{
					"name": "Create Loan Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": \"Cashout\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loan-status",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loan-status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Loan Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/loan-status",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loan-status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Loan Status By Id",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/loan-status/2",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loan-status",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Loan Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"color\": \"Hitam\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loan-status",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loan-status"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Loans",
			"item": [
				{
					"name": "Submit Loans",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_marketing}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "imageKtp",
									"type": "file",
									"src": "/D:/Pictures/Acer/Acer_Wallpaper_01_3840x2400.jpg"
								},
								{
									"key": "imageSpk",
									"type": "file",
									"src": "/D:/Pictures/Acer/Acer_Wallpaper_02_3840x2400.jpg"
								},
								{
									"key": "imagePayment",
									"type": "file",
									"src": "/D:/Pictures/Acer/Acer_Wallpaper_03_3840x2400.jpg"
								},
								{
									"key": "insurance",
									"value": "2",
									"type": "text"
								},
								{
									"key": "downPayment",
									"value": "1500000",
									"type": "text"
								},
								{
									"key": "duration",
									"value": "24",
									"type": "text"
								},
								{
									"key": "interest",
									"value": "12",
									"type": "text"
								},
								{
									"key": "customerId",
									"value": "01HPCBDQJ6CY9GYA6Q7BKJVEWN",
									"type": "text"
								},
								{
									"key": "vehicleId",
									"value": "01HPCAZH6PFWXK4FJJN1XJS90Z",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loans",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Approval",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_manager}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\" : \"01HPRBCP3TETB84PEHMVKMXFB5\",\r\n    \"isApproved\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loans/approval",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans",
								"approval"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Loans",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_manager}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/loans",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Loans By Id",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_manager}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/loans/01HPRBCP3TETB84PEHMVKMXFB5",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans",
								"01HPRBCP3TETB84PEHMVKMXFB5"
							]
						}
					},
					"response": []
				},
				{
					"name": "Generate PO Pdf",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}:{{port}}/loans/pdf/01HPRBCP3TETB84PEHMVKMXFB5",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans",
								"pdf",
								"01HPRBCP3TETB84PEHMVKMXFB5"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload Pdf",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "pdf",
									"type": "file",
									"src": "/D:/Downloads/PO_Michael D Jackson_01HPNG9N4Y68N119BK5PXV9D8P.pdf"
								},
								{
									"key": "loanId",
									"value": "01HPRBCP3TETB84PEHMVKMXFB5",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loans/upload-pdf",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans",
								"upload-pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cashout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token_admin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"loanId\":\"01HPRBCP3TETB84PEHMVKMXFB5\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}:{{port}}/loans/cashout",
							"host": [
								"{{base_url}}"
							],
							"port": "{{port}}",
							"path": [
								"loans",
								"cashout"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOnsiaWQiOiIwMUhOWjAyRUgzRkdKQlQzM1JYNTVTRzIxRyIsInVzZXJuYW1lIjoiYWRtaW4ifSwiaWF0IjoxNzA3MjkyNzIyLCJleHAiOjE3MDcyOTg3MjJ9.mwlGfx_oY8-C4ZTFNUU0JYm_AtiGJQxlpP8y83UDCb4",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}